<div id="cartFlyout" class="cart-flyout hidden">
  <button id="closeCartBtn" class="close-btn">Ã—</button>
  <h2>Your Cart</h2>
  <div id="cartItems">
    <!-- Items will be injected here by JS -->
  </div>
  <p id="cartTotal"><strong>Total: $0.00</strong></p>
</div>

<style>
/* Flyout cart container */
.cart-flyout {
  position: fixed;
  left: 0;
  top: 0;
  width: 300px;
  height: 100vh;
  background: #b81cb8;
  box-shadow: -4px 0 10px rgba(0, 0, 0, 0.788);
  padding: 20px;
  overflow-y: auto;
  z-index: 1000;
  transform: translateX(-100%);
  transition: transform 0.3s ease;
}

/* Show flyout */
.cart-flyout.show {
  transform: translateX(0);
}

/* Close button */
.close-btn {
  position: absolute;
  top: 10px;
  right: 15px;
  border: none;
  background: none;
  font-size: 1.5rem;
  cursor: pointer;
}

/* Individual cart item */
.cart-item {
  display: flex;
  justify-content: space-between;
  margin-bottom: 10px;
  border-bottom: 1px solid #ddd;
  padding-bottom: 5px;
}

.cart-item p {
  margin: 0;
  font-size: 0.9rem;
}
</style>

<script>
function renderCart() {
  const cartContainer = document.getElementById('cartItems');
  const cartTotalEl = document.getElementById('cartTotal');
  const cart = JSON.parse(localStorage.getItem('cart')) || [];

  cartContainer.innerHTML = ''; // clear previous

  let total = 0;

  cart.forEach(item => {
    const itemTotal = item.price * item.quantity;
    total += itemTotal;

    const itemEl = document.createElement('div');
    itemEl.className = 'cart-item';
    itemEl.innerHTML = `
      <p>${item.name} x ${item.quantity}</p>
      <p>$${itemTotal.toFixed(2)}</p>
    `;
    cartContainer.appendChild(itemEl);
  });

  cartTotalEl.innerHTML = `<strong>Total: $${total.toFixed(2)}</strong>`;
}

// Open/close cart
document.addEventListener('DOMContentLoaded', () => {
  const cartButton = document.getElementById('cartButton');
  const cartFlyout = document.getElementById('cartFlyout');
  const closeCartBtn = document.getElementById('closeCartBtn');

  cartButton.addEventListener('click', () => {
    renderCart();
    let isAlreadyOpen = cartFlyout.classList.contains('show')
    if(isAlreadyOpen){
cartFlyout.classList.remove('show');
    }else{
        cartFlyout.classList.add('show');
    }
  });

  closeCartBtn.addEventListener('click', () => {
    cartFlyout.classList.remove('show');
  });
});
</script>